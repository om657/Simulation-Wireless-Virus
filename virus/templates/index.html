<!-- templates/index.html -->
<!DOCTYPE html>
<html>
<head>
    <title>Wireless Virus Simulation</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script>
        async function fetchData() {
            const res = await fetch('/infected');
            const data = await res.json();
            const container = document.getElementById("infected-list");
            container.innerHTML = "";
            data.forEach((item, index) => {
                container.innerHTML += `
                    <li class="list-group-item">
                        <strong>${item.ip}</strong> âž¡ ${item.status} at ${item.timestamp}
                    </li>`;
            });
        }

        setInterval(fetchData, 1000);  // update every 1 second
        window.onload = fetchData;
    </script>
</head>
<body class="bg-dark text-light">
    <div class="container py-5">
        <h2 class="mb-4">ðŸ’€ Wireless Virus Simulation Dashboard</h2>
        <ul class="list-group" id="infected-list"></ul>
    </div>
</body>
</html>
